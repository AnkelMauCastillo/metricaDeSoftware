<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="index::encabezado">
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <title>Hitorias</title>
</head>
<body>

<div id="layoutSidenav_content">
     <main>
     
                        
       <div class="row">
                       
      
      <div id="contenedor" class="container">
		<div class="row">
			 
				<h2 > Registro Historia Usuario</h2> <br> 
				<form id="registro-historia" th:action="@{/historia/registro}" method="get">

					<div class="card">
						<div class="card-body">
							<div class="form-label-group">
								<input id="titulo" type="text" name="titulo" placeholder="Nombre Historia"
									class="form-control"> <label for="titulo"></label>
							</div>


							<div class="form-label-group">
								<input id="descripcion" type="text" name="descripcion" placeholder="Descripcion"
									class="form-control"> <label for="descripcion"></label>
							</div>
							
							
							<div class="form-label-group">
								       <label >Puntos De Historia</label>
                                        <select class="form-select form-select-lg mb-2" aria-label=".form-select-lg example" id= "puntos" name="mi-select" type="number" step="1" onchange="getPuntos">
                                          <option value="1" selected>1</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="5">5</option>
                                          <option value="8">8</option>
                                          <option value="13">13</option>
                                          <option value="20">20</option>
                                          <option value="40">40</option>
                                         <option value="100">100</option>
                                      </select>
								
							</div>
							
							<div class="form-label-group">
								                     <label>Estado</label>
                                                  <select id="estado" onchange="getEstado(this)"
                                                  class="form-select form-select-lg mb-2" aria-label=".form-select-lg example" style="font-size: 20px;">
                                                       <option th:value="porhacer" selected>Por Hacer</option>
                                                       <option th:value="haciendo">Haciendo</option>
                                                       <option th:value="hecho" disabled>Hecho</option>
                                                       
                                                   </select>
                                              
							</div >
					         <div class="form-label-group">
					         <label>Usuario</label>
							<select id="asignado"  onchange="getAsignado(this)" 
							class="form-select form-select-lg mb-2" aria-label=".form-select-lg example" style="font-size: 20px;">
							  
							  <th:block th:each = "usuario: ${usuarios}">
								  <option th:text="${usuario.nombre} " th:value="${usuario.id}"></option>
							  </th:block>
							</select>
							</div>
							<input id="boton" type="submit" class="btn btn-primary" value="Registrar">
							
						</div>
					</div>
				</form>
		

			
		</div>
    </div>
	
	
	<!-- Modal -->
	<div class="modal fade" id="modalExitosoError" tabindex="-1"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Mensaje</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div id="modalMensaje">
						<th:block if="${mensajeExitoso != null}">
							<p>[[${mensajeExitoso}]]</p>
						</th:block>
						<th:block if="${mensajeError != null}">
							<p>[[${mensajeError}]]</p>
						</th:block>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-success" id="botonAceptar"
						data-bs-dismiss="modal">Aceptar</button>

				</div>
			</div>
		</div>
	</div>

       
     </div>
    
 </main>
 </div>
    
	<th:block th:insert="index::script"></th:block>
</body>
</html>
